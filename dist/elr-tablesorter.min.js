!function($){window.elrTableSorter=function(params){var self={},spec=params||{},$table=spec.table||$(".elr-sortable-table"),buttonClass=spec.buttonClass||"elr-sortable-table-button",activeClass=spec.activeClass||"active",toggleActiveClass=function(className,$parent){$(this).closest($parent).find("."+className).removeClass(className),$(this).addClass(className)},sortComplexList=function($listItems,dir,columnNum,types){var that=this,sortLists={};return elr.createArrays(sortLists,types),$.each($listItems,function(){var listItem=this,value=$.trim($(listItem).text());$.each(types,function(){return elr.dataTypeChecks["is"+elr.capitalize(this)].call(that,value)&&sortLists[this].push(listItem),sortLists})}),$.each(sortLists,function(k){elr.comparators["sortColumn"+elr.capitalize(k)](sortLists[k],dir,columnNum)}),elr.concatArrays(sortLists)},renderSort=function($sortedRows,$table){$table.empty(),$.each($sortedRows,function(){$table.append(this)})};return $table.on("click","."+buttonClass,function(e){var $that=$(this),$tableBody=$table.find("tbody"),$rows=$tableBody.find("tr"),columnNum=$that.closest("th").index(),type=$table.find("th").eq(columnNum).data("type"),$list=elr.getColumnList(columnNum,$rows),values=elr.getListValues($list),types=elr.getDataTypes(values,type),$sortedRows=sortComplexList($rows,$that.data("dir"),columnNum,types);toggleActiveClass.call(this,activeClass,"tr"),renderSort($sortedRows,$tableBody),e.preventDefault()}),self}}(jQuery);